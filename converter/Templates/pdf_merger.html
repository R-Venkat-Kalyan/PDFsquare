<!DOCTYPE html>
<html>

<head>
  <title>PDF Merger</title>
  {% load static %}
  <link rel="shortcut icon" type="image/png" href="{% static 'images/logo0.png' %}">

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      background: #000033;
      overflow: hidden;
    }

    .glowing {
      position: relative;
      min-width: 700px;
      height: 550px;
      margin: -150px;
      transform-origin: right;
      animation: colorChange 5s linear infinite;
    }

    .glowing:nth-child(even) {
      transform-origin: left;
    }

    @keyframes colorChange {
      0% {
        filter: hue-rotate(0deg);
        transform: rotate(0deg);
      }

      100% {
        filter: hue-rotate(360deg);
        transform: rotate(360deg);
      }
    }

    .glowing span {
      position: absolute;
      top: calc(80px * var(--i));
      left: calc(80px * var(--i));
      bottom: calc(80px * var(--i));
      right: calc(80px * var(--i));
    }

    .glowing span::before {
      content: "";
      position: absolute;
      top: 50%;
      left: -8px;
      width: 15px;
      height: 15px;
      background: #f00;
      border-radius: 50%;
    }

    .glowing span:nth-child(3n + 1)::before {
      background: rgba(134, 255, 0, 1);
      box-shadow: 0 0 20px rgba(134, 255, 0, 1),
        0 0 40px rgba(134, 255, 0, 1),
        0 0 60px rgba(134, 255, 0, 1),
        0 0 80px rgba(134, 255, 0, 1),
        0 0 0 8px rgba(134, 255, 0, .1);
    }

    .glowing span:nth-child(3n + 2)::before {
      background: rgba(255, 214, 0, 1);
      box-shadow: 0 0 20px rgba(255, 214, 0, 1),
        0 0 40px rgba(255, 214, 0, 1),
        0 0 60px rgba(255, 214, 0, 1),
        0 0 80px rgba(255, 214, 0, 1),
        0 0 0 8px rgba(255, 214, 0, .1);
    }

    .glowing span:nth-child(3n + 3)::before {
      background: rgba(0, 226, 255, 1);
      box-shadow: 0 0 20px rgba(0, 226, 255, 1),
        0 0 40px rgba(0, 226, 255, 1),
        0 0 60px rgba(0, 226, 255, 1),
        0 0 80px rgba(0, 226, 255, 1),
        0 0 0 8px rgba(0, 226, 255, .1);
    }

    .glowing span:nth-child(3n + 1) {
      animation: animate 10s alternate infinite;
    }

    .glowing span:nth-child(3n + 2) {
      animation: animate-reverse 3s alternate infinite;
    }

    .glowing span:nth-child(3n + 3) {
      animation: animate 8s alternate infinite;
    }

    @keyframes animate {
      0% {
        transform: rotate(180deg);
      }

      50% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes animate-reverse {
      0% {
        transform: rotate(360deg);
      }

      50% {
        transform: rotate(180deg);
      }

      100% {
        transform: rotate(0deg);
      }
    }

      input[type="submit"]{
      background-color: #c2fbd7;
      border-radius: 100px;
      box-shadow: rgba(44, 187, 99, .2) 0 -25px 18px -14px inset, rgba(44, 187, 99, .15) 0 1px 2px, rgba(44, 187, 99, .15) 0 2px 4px, rgba(44, 187, 99, .15) 0 4px 8px, rgba(44, 187, 99, .15) 0 8px 16px, rgba(44, 187, 99, .15) 0 16px 32px;
      color: green;
      cursor: pointer;
      display: inline-block;
      font-family: CerebriSans-Regular, -apple-system, system-ui, Roboto, sans-serif;
      padding: 7px 20px;
      text-align: center;
      text-decoration: none;
      transition: all 250ms;
      border: 0;
      font-size: 16px;
      user-select: none;
      -webkit-user-select: none;
      touch-action: manipulation;
    }

    input[type="submit"]:hover {
      box-shadow: rgba(44, 187, 99, .35) 0 -25px 18px -14px inset, rgba(44, 187, 99, .25) 0 1px 2px, rgba(44, 187, 99, .25) 0 2px 4px, rgba(44, 187, 99, .25) 0 4px 8px, rgba(44, 187, 99, .25) 0 8px 16px, rgba(44, 187, 99, .25) 0 16px 32px;
      background-image: linear-gradient(144deg, #AF40FF, #5B42F3 50%, #00DDEB);
      transform: scale(1.05) rotate(-1deg);
    }
  </style>
</head>

<body>
  <div class="glowing">
    <span style="--i:1;"></span>
    <span style="--i:2;"></span>
    <span style="--i:3;"></span>
  </div>


  <div class="glowing">
    <span style="--i:1;"></span>
    <span style="--i:2;"></span>
    <span style="--i:3;"></span>
  </div>

  <div class="glowing">
    <span style="--i:1;"></span>
    <span style="--i:2;"></span>
    <span style="--i:3;"></span>
  </div>

  <div class="glowing">
    <span style="--i:1;"></span>
    <span style="--i:2;"></span>
    <span style="--i:3;"></span>
  </div>
  <div class="h-screen font-sans text-gray-900  border-box">
    <div class="fixed inset-0 flex justify-center items-center">
      <div class="w-full max-w-lg bg-white p-8 shadow-lg rounded-lg">
        <div class="text-center">
          <h2 class="text-2xl font-semibold mb-2">Upload your files</h2>
          <p class="text-gray-500">File should be of format .pdf</p>
        </div>
        <br><br>
        <h1 class="text-center">PDF Merger</h1>
        <br>
        <form id="pdfForm" method="post" enctype="multipart/form-data"
          class="flex flex-col items-center justify-center">
          {% csrf_token %}
          <input id="pdfInput" type="file" name="pdf_files[]" accept=".pdf" multiple class="mb-4" required>
          <div id="pickedFiles" class="text-center mb-4"></div>
          <input id="addBtn" type="button" accept=".pdf" value="Add File" style="background-color: teal" required><br>
          <input id="mergeBtn" type="submit" value="Merge and Download" style="background-color: teal">
        </form>
      </div>
    </div>
  </div>

  <div id="popupOverlay"
    style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999;">
    <div class="popup-content"
      style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 20px; border-radius: 4px; text-align: center; background: linear-gradient(to bottom right, #4481eb, #04befe);">
      <h2 style="color: #fff;">Downloading...</h2>
      <p style="color: #fff;">It may take few seconds to Download,<br>The download time depends on the uploaded file..</p>
      <button onclick="closePopup()"
        style="background-color: teal; color: #fff; border: none; padding: 10px 20px; font-size: 16px; border-radius: 4px; cursor: pointer;">Close</button>
    </div>
  </div>

  <div>
    {% include 'Copyright.html' %}
  </div>
  <script>
    // Function to display the picked files
    function displayPickedFiles() {
      const files = Array.from(document.getElementById('pdfInput').files);
      const pickedFilesDiv = document.getElementById('pickedFiles');

      pickedFilesDiv.innerHTML = '';

      files.forEach(function (file) {
        const fileName = file.name;
        const fileItem = document.createElement('p');
        fileItem.textContent = fileName;
        pickedFilesDiv.appendChild(fileItem);
      });
    }

    // Event listener for the file input change
    document.getElementById('pdfInput').addEventListener('change', displayPickedFiles);

    // Event listener for the add file button click
    document.getElementById('addBtn').addEventListener('click', function () {
      const fileInput = document.createElement('input');
      fileInput.setAttribute('type', 'file');
      fileInput.setAttribute('name', 'pdf_files[]');
      fileInput.setAttribute('accept', '.pdf');
      fileInput.classList.add('mb-4');

      document.getElementById('pdfForm').insertBefore(fileInput, document.getElementById('addBtn'));
    });

    <!--        popup-->

    function showPopup() {
      document.getElementById("popupOverlay").style.display = "flex";
    }

    function closePopup() {
      document.getElementById("popupOverlay").style.display = "none";
      document.getElementById("pdfForm").reset(); // Reset the form fields
    }

    document.getElementById("pdfForm").addEventListener("submit", function (event) {
      // No need to prevent form submission, let it submit normally
      showPopup(); // Show the popup
      // You can perform additional actions here, such as sending the form data to a server
    });
  </script>
</body>

</html>